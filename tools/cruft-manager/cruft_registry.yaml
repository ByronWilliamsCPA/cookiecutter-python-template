# Cruft Registry - Track all repos created from cookiecutter templates
# This file maintains a registry of repositories managed by cruft
# for automated template updates.
#
# SPDX-FileCopyrightText: 2025 Byron Williams
# SPDX-License-Identifier: MIT

# Template sources - the cookiecutter templates we maintain
templates:
  python-template:
    url: "https://github.com/ByronWilliamsCPA/cookiecutter-python-template"
    local_path: "/home/byron/dev/cookiecutter-python-template"
    description: "Modern Python project template with UV, Ruff, and best practices"

# Repositories created from templates
# Each repo can specify:
#   - template: which template it was created from
#   - github: GitHub repo path (owner/repo)
#   - local_path: optional local clone path
#   - auto_update: whether to auto-create PRs (default: true)
#   - branch_prefix: prefix for update branches (default: cruft/update)
repositories:
  # Homelab Infrastructure
  homelab_infra:
    template: python-template
    github: "ByronWilliamsCPA/homelab_infra"
    local_path: "/home/byron/dev/homelab_infra"
    auto_update: true

  # Claude Code Configuration
  claude_config:
    template: python-template
    github: "ByronWilliamsCPA/.claude"
    local_path: "/home/byron/dev/.claude"
    auto_update: true

# Update settings
settings:
  # How to handle updates
  update_strategy: "pr"  # Options: pr (create PR), direct (commit directly), dry-run

  # Branch naming
  branch_prefix: "cruft/template-update"

  # PR settings
  pr_title_template: "chore(deps): update from cookiecutter template"
  pr_body_template: |
    ## Template Update

    This PR updates the project from the cookiecutter template.

    **Template**: {template_name}
    **Previous commit**: `{old_commit}`
    **New commit**: `{new_commit}`

    ### Changes from template
    {changes}

    ---
    ðŸ¤– Auto-generated by cruft-manager

  # Notification settings
  notifications:
    slack_webhook: ""  # Optional: Slack webhook for notifications
    github_issue: true  # Create GitHub issue if update fails

  # Schedule (cron format) - runs daily at 6 AM UTC
  schedule: "0 6 * * *"
